deploymentMode: SingleBinary<->SimpleScalable


serviceAccount:
  create: false
  name: loki-sa

loki:
  auth_enabled: false

  server:
    http_listen_port: 3100

  # New storage format (chart â‰¥6.x)
  storage:
    type: gcs
    gcs:
      bucket_name: loki-nbss
    bucketNames:
      chunks: loki-chunks
      ruler: loki-ruler
      admin: loki-admin

  schemaConfig:
    configs:
      - from: "2024-01-01"
        store: tsdb
        object_store: gcs
        schema: v13
        index:
          prefix: loki_index_
          period: 24h

  limits_config:
    reject_old_samples: true
    reject_old_samples_max_age: 168h

singleBinary:
  replicas: 1
  persistence:
    enabled: true
    size: 10Gi
    storageClass: standard

resources:
  requests:
    cpu: 200m
    memory: 512Mi
  limits:
    memory: 1Gi

# ðŸ‘‡ Explicitly zero out all simple-scalable components
simpleScalable:
  distributor:
    replicas: 0
  ingester:
    replicas: 0
  querier:
    replicas: 0
  queryFrontend:
    replicas: 0
  queryScheduler:
    replicas: 0
  indexGateway:
    replicas: 0
  compactor:
    replicas: 0
  ruler:
    replicas: 0
